## 使用
### 主要用法
1. 合成盔甲架命名为包含 `mcedia` 的字符
2. 合成书与笔，在第一页写入支持的视频链接见"支持的平台及链接形式"
3. 将书与笔放置在盔甲架**主手**
4. 等待视频播放

### 支持的平台及视频链接形式
1. Bilibili 普通视频 - 以 `https://www.bilibili.com/` 开头
2. Bilibili 直播 - 以 `https://live.bilibili.com/` 开头
3. Bilibili 番剧 - 以 `https://www.bilibili.com/bangumi/play/` 开头
4. Bilibili 短链 - 类似 `【♿男よ、来い♿-哔哩哔哩】 https://b23.tv/KCC6YjE` 的分享字符串
5. 播放抖音视频 - 抖音分享文本，类似 `4.84 t@e.oQ 01/20 gba:/ # 抖音戏曲文化艺术节 梨园光景与君游，恭迎诸位入此一梦！10月18日，赴江西上饶葛仙村 # 第三届抖音戏曲文化艺术节 共赏好戏！  https://v.douyin.com/s-1dKNIKD58/ 复制此链接，打开Dou音搜索，直接观看视频！`
6. 经过指令设置后，允许播放任意 ffmpeg 能够解析的链接

### 指令
目前所有指令皆为客户端指令与服务器无关

1. /mcedia bilibili login: 登录 bilibili
2. /mcedia option danmaku toggle: 开启/关闭 弹幕（默认为 关）
3. /mcedia option quality \[清晰度\]: 选择清晰度（默认为 common）
4. /mcedia option max \[数量\]: 设置最多允许几个播放器同时播放（默认为 5）
5. /mcedia option max_non_low_overhead \[数量\]: 设置最多允许几个播放器同时以最高开销播放（默认为 1）
6. /mcedia option direct_link toggle: 开启/关闭 允许播放本地文件 / 流媒体直链等（默认为关）
7. /mcedia control ...: 本地控制播放器暂停、速度

### 播放器配置项
声音由盔甲架**副手 x 轴**旋转调节
速度由盔甲架**副手 y 轴**旋转调节（**会导致不同步**）
旋转由盔甲架头部旋转调节，或是主体旋转调节
大小由盔甲架缩放调节

在视频 URL 后换行输入类似 0:30:12 （小时:分钟:秒）来设置开始播放时间

在**副手**放置书与笔
- 第一页
    - 第一行：画面 x 轴相对偏移
    - 第二行：画面 y 轴相对偏移
    - 第三行：画面 z 轴相对偏移
    - 第四行：缩放（会与盔甲架缩放相乘）
- 第二页
    - 第一行：声源 x 轴相对偏移
    - 第二行：声源 y 轴相对偏移
    - 第三行：声源 z 轴相对偏移
    - 第四行：声音最大值 （默认 5）
    - 第五行：声音最大值的范围 （默认 1）
    - 第六行：可听到声音的最大范围（默认 500）
    - 
- 第三页：为 tag 页，只要包含特定字符则会开启对应功能
    - `looping` 或 `循环播放`: 在视频播放结束后会重头播放
    - `nodanmaku` 或 `关闭弹幕`: 不显示弹幕

## 服务器同步插件编写
查看 paperplugin 内代码。

## 致谢
感谢 [OyatsuSuki](https://github.com/OyatsuSuki) 贡献，bilibili 登录、弹幕渲染等相当多的代码、想法

## 已知问题
- [ ] 声源位置轴异常
- [ ] 有概率不循环播放
- [ ] 有概率声源初始化失败导致没有声音

## 更新计划

- 核心功能
    - [ ] 双声源

- 媒体
  - [ ] bilibili 番剧弹幕
  - [ ] 樱花动漫
  - [ ] 抖音直播

## 未来可能考虑的更新

- 核心功能
  - [ ] ui 配置页面
  - [ ] 非盔甲架的单人播放器
  - [ ] 非盔甲架的其他实体播放器

- 媒体
  - [ ] 基于解析 api 的媒体解析
